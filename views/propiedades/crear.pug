extends ../layout/index
block styles
    link(rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css")
block contenido
    div
        h1.text-4xl.my-7.font-extrabold.text-center Prueba
            span.font-normal Node.js
        h2.text-center.text-2xl.font-extrabold= titulo
        if errors 
            div(class="mx-auto max-w-2xl")
                each e in errors
                    p(class="bg-red-600 text-white text-xs uppercase font-bold p-1 mt-1")= e.msg
        div(class="bg-white shadow-lg max-w-2xl mx-auto px-3 py-2 mt-4")
            form(class="space-y-2" action="/bienes-raices/propiedades/crear" method="POST")
                input(type="hidden" name="_csrf" value=csrfToken)
                div(class="space-y-4")
                    h3(class="text-lg leading-6 font-medium text-gray-900") Información General
                    p(class="text-gray-600") Añade información sobre la propiedad en venta
                div
                    label(for="tituloProp").block.text-sm.uppercase.text-gray-500.mb-2.font-bold Título
                    input(class="w-full px-3 py-2 border-2 border-blue-400 rounded-md placeholder-gray-400" id="tituloProp" placeholder="Titulo Propiedad, ej. Casa en la Playa" type="text" name="tituloProp" value=datos?datos.tituloProp:'')
                div
                    label(for="descripcion" class="block text-sm uppercase text-gray-500 mb-2 font-bold") Descripción
                    textarea(class="w-full px-3 py-2 border-2 border-blue-400 rounded-md placeholder-gray-400" id="titulo" placeholder="Descripción de la  Propiedad" name="descripcion")=datos?datos.tituloProp:''

                div(class="space-y-3 md:flex md:gap-4 md:space-y-0")
                    div(class="md:w-1/2")
                        label(for="categoria").block.text-sm.uppercase.text-gray-500.mb-2.font-bold Categoría
                        select(id="categoria" name="categoria").w-full.px-3.py-2.border.border-gray-300.rounded-md.placeholder-gray-400
                            if categorias
                                option(value="") -Seleccione-
                                    each c in categorias
                                        option(value=c.id selected= datos.categoria ? datos.categoria == c.id ? true:false:null)=c.nombre
                    div(class="md:w-1/2")
                        label(for="precio").block.text-sm.uppercase.text-gray-500.mb-2.font-bold Precio
                        select(id="precio" name="precio").w-full.px-3.py-2.border.border-gray-300.rounded-md.placeholder-gray-400
                            if precios
                                option(value="") -Seleccione-
                                    each p in precios
                                        option(value=p.id selected= datos.precio ? datos.precio == p.id ? true:false:null)=p.nombre

                div(class="space-y-3 md:flex md:gap-4 md:space-y-0")
                    div(class="md:w-1/2")
                        label(for="habitacion").block.text-sm.uppercase.text-gray-500.mb-2.font-bold Habitación
                        select(id="habitacion" name="habitaciones").w-full.px-3.py-2.border.border-gray-300.rounded-md.placeholder-gray-400
                            option(value="") -Seleccione-
                            -let h = 1;
                                 while h < 10
                                    option(value=h selected= datos.habitaciones ? datos.habitaciones == h ? true:false:null) #{h++}

                    div(class="md:w-1/2")
                        label(for="estacionamiento").block.text-sm.uppercase.text-gray-500.mb-2.font-bold Estacionamiento
                        select(id="estacionamiento" name="estacionamiento").w-full.px-3.py-2.border.border-gray-300.rounded-md.placeholder-gray-400
                            option(value="") -Seleccione-
                            -let e = 1;
                                while e < 5
                                    option(value=e selected= datos.estacionamiento ? datos.estacionamiento == e ? true:false:null) #{e++}

                    div(class="md:w-1/2")
                        label(for="wc").block.text-sm.uppercase.text-gray-500.mb-2.font-bold WC
                        select(id="wc" name="wc").w-full.px-3.py-2.border.border-gray-300.rounded-md.placeholder-gray-400
                            option(value="") -Seleccione-
                            -let wc = 1;
                                while wc < 5
                                    option(value=wc selected= datos.wc ? datos.wc == wc ? true:false:null) #{wc++}              
                div(class="border-gray-200 border-t py-5 space-y-4")
                    h3(class="text-lg leading-6 font-medium text-gray-900") Ubicación
                    p(class="text-gray-600") Ubica la propiedad en el mapa
                #mapa(class="h-96")
                div
                    p(class="calle")
                input(type="hidden" name="calle" id="calle")
                input(type="hidden" name="lat" id="lat")
                input(type="hidden" name="lng" id="lng")

                input(class="w-full bg-indigo-500 hover:bg-indigo-400 cursor-pointer rounded-md text-white font-bold uppercase py-2" type="submit" value="Añadir Imagen")

block scripts
    script(src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js")
    script(src="https://unpkg.com/esri-leaflet@3.0.8/dist/esri-leaflet.js")
    script(src="https://unpkg.com/esri-leaflet-geocoder@2.2.13/dist/esri-leaflet-geocoder.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-geosearch/2.7.0/bundle.min.js")
    script(src="/js/mapa.js")